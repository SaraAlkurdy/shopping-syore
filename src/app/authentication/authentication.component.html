<ng-container *ngIf="loginObservable$ | async"></ng-container>

<div fxLayout="row">
  <div fxflex="20">
    <mat-card>
      <mat-card-title>Log in</mat-card-title>
      <mat-card-content>
        <form [formGroup]="loginForm" (ngSubmit)="submit()">
          <!-- UserName -->
          <p>
            <mat-form-field appearance="outline">
              <mat-label>User Name</mat-label>
              <input
                type="text"
                matInput
                placeholder="Username"
                formControlName="userName"
                [ngClass]="{ 'is-invalid': submitted && f['userName'].errors }"
              />
              <mat-icon matSuffix>person</mat-icon>
              <mat-error
                *ngIf="submitted && f['userName'].errors"
                class="invalid-feedback"
              >
                <p *ngIf="submitted && f['userName'].errors['required']">
                  username is required
                </p>
              </mat-error>
            </mat-form-field>
          </p>

          <!-- Password -->
          <p>
            <mat-form-field appearance="outline">
              <mat-label>Password</mat-label>
              <input
                [type]="showPassword ? 'password' : 'text'"
                type="password"
                matInput
                placeholder="Password"
                formControlName="password"
              />
              <mat-icon
                (click)="toggleShow()"
                matSuffix
                [ngClass]="{ 'show-password': showPassword }"
                >remove_red_eye</mat-icon
              >

              <mat-error
                *ngIf="submitted && f['password'].errors"
                class="invalid-feedback"
              >
                <p *ngIf="submitted && f['password'].errors['required']">
                  password is required
                </p>
              </mat-error>
            </mat-form-field>
          </p>

          <button type="submit" mat-button>Log in</button>
        </form>
      </mat-card-content>
    </mat-card>
  </div>
</div>
